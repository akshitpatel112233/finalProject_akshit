<section class="login" id="login">


    <div class="login-form">
        <h2 class="login-heading">Sign up</h2>

        <% if(typeof error!==undefined && error.length) { %>
            <div style="color: red;font-weight: bold;">
                <%= error %>
            </div>
            <% } %>
                <form id="signup_form" method="post" action="/signup">
                    <!-- <div class="form-group">
                <label for="firstname">First Name</label>
                <input type="text" id="firstname" name="firstname" placeholder="First Name" />
            </div>
            <div class="form-group">
                <label for="firstname">Last Name</label>
                <input type="text" id="lastname" name="lastname" placeholder="Last Name" />
            </div> -->
                    <div class="form-group">
                        <label for="username">User name</label>
                        <input type="text" id="username" name="username" placeholder="Enter your username" required />
                    </div>
                    <div class="form-group">
                        <label for="user_type">User Type</label>
                        <select type="text" id="user_type" name="user_type" class="form-select" required>
                            <option selected disabled>Select user type</option>
                            <option value="driver">Driver</option>
                            <option value="examiner">Examiner</option>
                            <option value="admin">Admin</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" id="password" name="password" placeholder="Enter your password"
                            required />
                    </div>
                    <div class="form-group">
                        <label for="confirm_password">Confirm Password</label>
                        <input type="password" id="confirm_password" name="confirm_password"
                            placeholder="Confirm your password" required />
                    </div>
                    <button class="btn-login" type="submit">Sign up</button>
                </form>
    </div>
</section>

<script>
    const form = document.getElementById("signup_form");

    const handleSubmit = (event) => {
        event.preventDefault();



        const formData = new FormData(event.target);

        const username = formData.get("username");
        const userType = formData.get("user_type");
        const password = formData.get("password");
        const confirmPassword = formData.get("confirm_password");


        if (password !== confirmPassword) {
            alert("Password does not match");
            return;
        }

        event.target.submit();

    }

    form.addEventListener("submit", handleSubmit)

</script>